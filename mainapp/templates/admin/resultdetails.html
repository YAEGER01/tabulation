{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'admin/cssdesign/design.css' %}"/>
<style>
.CSSTableGenerator { margin:0px auto;padding:0px;width:80%;box-shadow: 4px 4px 6px #888888;border:2px solid #4CAF50; border-radius:6px; }
.CSSTableGenerator table{ border-collapse: collapse; width:100%; height:100%; margin:0px;padding:0px; }
.CSSTableGenerator tr:nth-child(odd){ background-color:#f6fff6; }
.CSSTableGenerator tr:nth-child(even){ background-color:#ffffff; }
.CSSTableGenerator th, .CSSTableGenerator td{ vertical-align:middle; border:1px solid #4CAF50; text-align:center; padding:10px; font-size:16px; font-family:Arial; font-weight:600; color:#000000; }
.CSSTableGenerator tr:first-child td{ background: #4CAF50; color: white; font-weight:700; }
.blinkwin { background-color: #fff8dc; }
</style>
<div style="text-align:center;">
    <p style="font-family: serif,arial; font-size:x-large; font-weight: bold; color: red; margin:12px 0;">{{ event.evdes }}</p>
    
    <table class="CSSTableGenerator">
    <tr>
        <td>Rank</td>
        <td>Candidate #</td>
        <td>Name</td>
        {% for judge in judges %}
        <td>{{ judge.jname }}</td>
        {% endfor %}
        <td>Total</td>
        <td>Average</td>
    </tr>
    {% for candidate in candidates %}
    <tr>
        <td><a href="#" onclick="getid('{{ candidate.sconid }}','{{ candidate.cano }}');">{{ forloop.counter }}</a></td>
        <td id="disid{{ candidate.sconid }}">{{ candidate.cano }}</td>
        <td>{{ candidate.cname }}</td>
        {% for score in candidate.judge_scores %}
            <td>
                {% if score is None %}
                    <img src="{% static 'admin/icon/ajax-loader.gif' %}" alt="waiting" style="height:18px;vertical-align:middle;"/>
                {% else %}
                    {{ score }}
                {% endif %}
            </td>
        {% endfor %}
        <td>{{ candidate.total_score }}</td>
        <td>{{ candidate.grade_score }}</td>
    </tr>
    {% endfor %}
    </table>
</div>
<script type="text/javascript">
function getid(vgetid, vcano) {
    document.getElementById('disid' + vgetid).innerHTML = vcano;
}
</script>
{% endblock %}
